"use strict";function _typeof(n){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(n)}var countries=[],darkMode=!1,listVisible=!1,currentRegion="",currentRegionCountries=[],inputValue="",wordQuery="",searchedCountry=[],container=document.querySelector(".countries__ctn"),body=document.querySelector("body"),switchCtn=document.querySelector("#switch__ctn"),filterCtn=document.querySelector(".filter"),list=document.querySelector(".list"),filterHeaderText=document.querySelector(".filter__header--text"),form=document.querySelector("#form"),searchInput=document.querySelector("#search");function sortAlphabetically(n,e){var t=n.name.common.toUpperCase(),o=e.name.common.toUpperCase(),i=0;return t>o?i=1:t<o&&(i=-1),i}fetch("https://restcountries.com/v3.1/all").then((function(n){return n.json()})).then((function(n){countries=n.sort(sortAlphabetically),container.innerHTML="",countries.map((function(n){var e=n.name,t=n.flags,o=n.region,i=n.capital,a=n.population;container.innerHTML+='\n            <div class="card shadow-md bg-white cursor-pointer overflow-hidden rounded-md">\n            <div class="card__upper w-full h-[11rem] overflow-hidden">\n              <img class="w-full h-full objecct-fit rounded-t-md" src='.concat(t.png,' alt="">\n            </div>\n            <div class="card__lower flex flex-col mt-6 px-5 pb-6 h-full">\n              <p class="card__header font-bold pb-3">').concat(e.common,'</p>\n                <div class="container">\n                    <div class="detailCtn flex items-center gap-x-2"><p class="font-semibold">Population: </p><span>').concat(a.toLocaleString("en-US"),'</span></div>\n                    <div class="detailCtn flex items-center gap-x-2"><p class="font-semibold">Region: </p><span>').concat(o,'</span></div>\n                    <div class="detailCtn flex items-center gap-x-2"><p class="font-semibold">Capital: </p><span>').concat("object"==_typeof(i)?i[0]:i,"</span></div>\n                </div>\n\n            </div>\n          </div>\n            ")}))})).catch((function(n){return console.log("Request Failed",n)})),switchCtn.addEventListener("click",(function(){darkMode?(darkMode=!darkMode,body.classList.remove("dark"),switchCtn.innerHTML='\n        <i class="bi bi-moon font-semibold"></i>\n        <p class="font-semibold">Dark mode</p>\n                '):(body.classList.add("dark"),darkMode=!darkMode,switchCtn.innerHTML='\n        <i class="bi bi-brightness-high-fill"></i>\n        <p class="font-semibold">Light mode</p>\n        ')})),filterCtn.addEventListener("click",(function(){(list.classList.toggle("invisible"),filterCtn.classList.toggle("active"),listVisible=!listVisible)&&Array.from(list.children).forEach((function(n){n.addEventListener("click",(function(n){updateUIFromRegion(n.target.innerHTML),filterHeaderText.textContent=n.target.innerHTML,list.classList.add("invisible"),filterCtn.classList.remove("active"),listVisible=!listVisible}))}))}));var updateUIFromRegion=function(n){currentRegion=n,currentRegionCountries=countries.map((function(n){if(n.region==currentRegion)return n})).filter((function(n){return void 0!==n})),container.innerHTML="",currentRegionCountries.map((function(n){var e=n.name,t=n.flags,o=n.region,i=n.capital,a=n.population;container.innerHTML+='\n        <div class="card shadow-md bg-white cursor-pointer overflow-hidden rounded-md">\n        <div class="card__upper w-full h-[11rem] overflow-hidden">\n          <img class="w-full h-full objecct-fit rounded-t-md" src='.concat(t.png,' alt="">\n        </div>\n        <div class="card__lower flex flex-col mt-6 px-5 pb-6 h-full">\n          <p class="card__header font-bold pb-3">').concat(e.common,'</p>\n            <div class="container">\n                <div class="detailCtn flex items-center gap-x-2"><p class="font-semibold">Population: </p><span>').concat(a.toLocaleString("en-US"),'</span></div>\n                <div class="detailCtn flex items-center gap-x-2"><p class="font-semibold">Region: </p><span>').concat(o,'</span></div>\n                <div class="detailCtn flex items-center gap-x-2"><p class="font-semibold">Capital: </p><span>').concat("object"==_typeof(i)?i[0]:i,"</span></div>\n            </div>\n        </div>\n      </div>\n        ")}))},updateUIAll=function(){filterHeaderText.textContent="Filter by region",container.innerHTML="",countries.map((function(n){var e=n.name,t=n.flags,o=n.region,i=n.capital,a=n.population;container.innerHTML+='\n        <div class="card shadow-md bg-white cursor-pointer overflow-hidden rounded-md">\n        <div class="card__upper w-full h-[11rem] overflow-hidden">\n          <img class="w-full h-full objecct-fit rounded-t-md" src='.concat(t.png,' alt="">\n        </div>\n        <div class="card__lower flex flex-col mt-6 px-5 pb-6 h-full">\n          <p class="card__header font-bold pb-3">').concat(e.common,'</p>\n            <div class="container">\n                <div class="detailCtn flex items-center gap-x-2"><p class="font-semibold">Population: </p><span>').concat(a.toLocaleString("en-US"),'</span></div>\n                <div class="detailCtn flex items-center gap-x-2"><p class="font-semibold">Region: </p><span>').concat(o,'</span></div>\n                <div class="detailCtn flex items-center gap-x-2"><p class="font-semibold">Capital: </p><span>').concat("object"==_typeof(i)?i[0]:i,"</span></div>\n            </div>\n\n        </div>\n      </div>\n        ")}))};searchInput.addEventListener("keyup",(function(n){0!==(inputValue=n.target.value).length?(filterHeaderText.textContent="Filter by region",updateUIfromSearch(inputValue)):updateUIAll()}));var updateUIfromSearch=function(n){wordQuery=n,searchedCountry=countries.map((function(n){if(n.name.common.toLowerCase().includes(wordQuery.toLowerCase()))return n})).filter((function(n){return void 0!==n})),container.innerHTML="",searchedCountry.map((function(n){var e=n.name,t=n.flags,o=n.region,i=n.capital,a=n.population;container.innerHTML+='\n        <div class="card shadow-md bg-white cursor-pointer overflow-hidden rounded-md">\n        <div class="card__upper w-full h-[11rem] overflow-hidden">\n          <img class="w-full h-full objecct-fit rounded-t-md" src='.concat(t.png,' alt="">\n        </div>\n        <div class="card__lower flex flex-col mt-6 px-5 pb-6 h-full">\n          <p class="card__header font-bold pb-3">').concat(e.common,'</p>\n            <div class="container">\n                <div class="detailCtn flex items-center gap-x-2"><p class="font-semibold">Population: </p><span>').concat(a.toLocaleString("en-US"),'</span></div>\n                <div class="detailCtn flex items-center gap-x-2"><p class="font-semibold">Region: </p><span>').concat(o,'</span></div>\n                <div class="detailCtn flex items-center gap-x-2"><p class="font-semibold">Capital: </p><span>').concat("object"==_typeof(i)?i[0]:i,"</span></div>\n            </div>\n        </div>\n      </div>\n        ")})),0===searchedCountry.length&&(container.innerHTML='\n        <div class="container mx-auto absolute inset-x-0 font-semibold text-xl">\n        <p class="self-center text-center mx-auto">No countries found :(</p>\n      </div>\n        ')};
//# sourceMappingURL=script.js.map